# 需求规约

## 1. 介绍
### 1.1 目的

　　《iTravel需求规约》主要目的为收集与组织所有与“iTravel网站”有关的需求。我们希望通过《iTravel需求规约》来提供一个完整、综合的的iTravel网站的需求描述，其中包括确定应用程序与相关子系统的外部行为、设计与开发过程中涉及到的功能需求、非功能需求、涉及约束以及其他必要需求。

### 1.2 范围
　　本文档适用于“iTravel”项目开发的整个生命周期，覆盖项目每一项工作任务，适用于参与本项目的所有成员以及相关组。

## 2. 整体描述

　　随着近年来旅游业的大力发展，市民旅游的需求扩大，为让市民方便快捷的出游，各种旅游性质的网站层出不穷。然而这些网站虽然给市民提供了订购景点门票、参加旅行团等快捷服务，但是由于越来越多的市民更倾向于自定义旅行，有些旅行团的路线并不符合他们的要求，即使有这些网站，市民也需要自己查攻略再制定路线。因此，我们希望开发一个旅游路线自定义的系统“iTravel”，以浏览器为客户端，让用户能在本网站上自己选择喜欢的景点，系统将智能计算出一条最优路线给用户，省去用户自己计划路线的时间。同时，用户可以将生成的路线公开到广场当中，寻找志同道合的游客一起拼团出游，让旅行社接包，专门针对生成的路线建立旅行团。如果用户不愿加入旅行团，可以选择不公开路线。本项目还将与旅行社合作，旅行社可以通过本网站进入路线广场，寻找想要接包的路线，与其他旅行社一同竞价。<br>
　　iTravel项目的特色在于：让用户能够自定义旅游路线，并且通过旅行社招标竞价，实现拼团出游。
　　运行环境：该系统为B/S三层结构，它的运行环境分客户端、应用服务器端和数据库服务器端三部分。客户端为浏览器，服务器端操作系统为Ubuntu 14.04，数据库为Mongodb。
## 3.系统与其他系统的接口
+ 地图系统：高德地图
+ 支付系统：支付宝
+ 联络、通知：微信

## 4. 主要的功能需求描述
### 登录

<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>登录</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>游客、旅行社</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户通过输入账户和密码来登录自己的账户</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>无</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 用户输入账号和密码 <br>
			2. 系统认证成功，返回消息 <br>
			<b>可选事件流</b> <br>
			如果账户密码不符，提示用户重新输入。 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>用户登录后，可以选择景点、确定线路及参加旅行团</td>
	</tr>
</table>

### 注册

<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>注册</td>5
	</tr>
	<tr>
		<td>参与者</td>
		<td>游客</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户输入基本信息与账户密码等创建一个账户</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>无</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 用户输入基本信息 <br>
			2. 用户输入账户密码，并重复输入密码 <br>
			3. 用户注册成功，返回消息 <br>
			<b>可选事件流</b> <br>
			如果用户信息有误或遗漏，提示客户修改；如果用户选择的用户名已存在，提示客户更换一个用户名； <br>
			如果用户输入的两次密码不符，提示用户重新输入 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>跳转到登录界面</td>
	</tr>
</table>

### 选择城市和日期
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>选择路线信息</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>游客</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户选择旅游城市和时间</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>用户已登录</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 用户选择城市 <br>
			2. 用户选择日期 <br>
			3. 用户确认提交表单 <br>
			4. 系统确认设置用户的选择，返回消息 <br>
			<b>可选事件流</b> <br>
			如果用户选择为空，提示用户必须选择才能提交表单 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>选择景点</td>
	</tr>
</table>


### 选择景点
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>选择景点</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>用户</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户选择想要游玩的景点</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>用户已登录</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 用户选择景点 <br>
			2. 用户浏览系统推荐的景点 <br>
			3. 用户选择推荐的景点 <br>
			4. 系统确认设置用户的选择，返回消息 <br>
			<b>可选事件流</b> <br>
			如果用户选择为空，提示用户必须选择才能提交表单 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>用户可选择参加定制的旅行团</td>
	</tr>
</table>


### 获取系统规划的行程
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>获取系统规划的行程</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>用户</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户获取系统根据选择的景点规划出的线路</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>用户已选择景点</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 用户选择获取行程 <br>
			2. 系统生成一份规划好的行程，返回消息 <br>
			3. 用户界面显示规划后的行程 <br>
			<b>可选事件流</b> <br>
			无 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>用户可选择参加定制的旅行团</td>
	</tr>
</table>


### 选择团队
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>选择团队</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>用户</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户选择有相同旅游计划的团队出行</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>用户已选择旅游线路</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 系统显示推荐的团队	<br>
			2. 用户选择一个团队加入  <br>
			<b>可选事件流</b> <br>
			用户可以查看团队详细信息。 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>用户加入团队微信群</td>
	</tr>
</table>


### 加入微信群
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>获取系统规划的行程</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>用户</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户加入团队微信群，便于通知选择的旅行社等事项</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>用户已选择团队</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 用户选择获取所在团队的微信群二维码 <br>
			2. 系统显示该团队的微信群二维码  <br>
			<b>可选事件流</b> <br>
			无 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>无</td>
	</tr>
</table>


### 管理微信群
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>管理微信群</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>客服</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户加入团队微信群，便于通知旅行社选择等事项</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>客户已选择团队</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 客服人员上传团队微信群二维码  <br>
			2. 客服人员确认用户已加入微信群  <br>
			<b>可选事件流</b> <br>
			如果用户退出微信群，客服人员将该情况提交系统。 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>无</td>
	</tr>
</table>


### 支付
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>支付</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>用户</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户用过支付宝或微信支付等方式支付旅游费用</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>用户已选择景点并参团</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 用户确定订单 <br>
			2. 系统返回订单详细信息 <br>
			3. 用户选择支付方式，完成支付 <br>
			<b>可选事件流</b> <br>
			如果当前支付方式出错，提示用户重新选择支付方式。 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>无</td>
	</tr>
</table>


### 旅行社竞价
<table>
	<tr>
		<th>名称</th>
		<th>内容</th>
	</tr>
	<tr>
		<td>用例名称</td>
		<td>旅行社竞价</td>
	</tr>
	<tr>
		<td>参与者</td>
		<td>用户</td>
	</tr>
	<tr>
		<td>简述</td>
		<td>用户用过支付宝或微信支付等方式支付旅游费用</td>
	</tr>
	<tr>
		<td>前置条件</td>
		<td>旅行社通过企业账户登录</td>
	</tr>
	<tr>
		<td>事件流</td>
		<td>
			<b>	基本事件流</b> <br>
			1. 旅行社登录 <br>
			2. 请求参与某路线的竞价 <br>
			3. 输入竞标价格，并在有效时间内更改价格 <br>
			<b>可选事件流</b> <br>
			无 <br>
		</td>
	</tr>
	<tr>
		<td>后续场景</td>
		<td>无</td>
	</tr>
</table>



## 5. 非功能性需求
+ 安全性：该系统对用户信息进行加密，可防止数据库泄露被盗取密码。
+ 可靠性：该系统具有一定的容错能力和抗干扰能力，可对用户的数据进行备份。
+ 易用性：
  +  该系统具有易操作性，如用户在选择景点时系统会提供首字母筛选功能。
  +  该系统具有易学习性，为用户提供简明易上手的操作界面。
+ 性能：
  + 该系统能同时容纳1000位使用者对系统进行操作，并保证性能不受影响。
  + 该系统的响应时间为0.1s。

## 6. 其他需求
